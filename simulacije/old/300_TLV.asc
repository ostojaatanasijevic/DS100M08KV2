Version 4
SHEET 1 3776 1588
WIRE 2496 -272 1808 -272
WIRE 400 -256 240 -256
WIRE 640 -256 464 -256
WIRE 880 -256 704 -256
WIRE 1024 -256 944 -256
WIRE 1248 -256 1088 -256
WIRE 1808 -160 1808 -272
WIRE 1840 -160 1808 -160
WIRE 1872 -160 1840 -160
WIRE 2496 -160 2496 -272
WIRE 2496 -160 2352 -160
WIRE 1968 -144 1936 -144
WIRE 2240 -144 1968 -144
WIRE 2496 -144 2496 -160
WIRE 2688 -144 2496 -144
WIRE 2832 -144 2688 -144
WIRE 240 -128 240 -256
WIRE 400 -128 240 -128
WIRE 560 -128 480 -128
WIRE 624 -128 560 -128
WIRE 864 -128 704 -128
WIRE 1088 -128 944 -128
WIRE 1248 -128 1248 -256
WIRE 1248 -128 1168 -128
WIRE 1376 -128 1248 -128
WIRE 1488 -128 1376 -128
WIRE 1584 -128 1488 -128
WIRE 1744 -128 1584 -128
WIRE 1840 -128 1744 -128
WIRE 1872 -128 1840 -128
WIRE 2352 -128 2352 -160
WIRE 2352 -128 2304 -128
WIRE 560 -112 560 -128
WIRE 2240 -112 2160 -112
WIRE 2496 -112 2496 -144
WIRE 1248 -64 1248 -128
WIRE 2832 -16 2832 -144
WIRE 2160 0 2160 -112
WIRE 2208 0 2160 0
WIRE 2352 0 2352 -128
WIRE 2352 0 2288 0
WIRE 2496 0 2496 -48
WIRE 1376 16 1376 -128
WIRE 1488 16 1488 -128
WIRE 1584 16 1584 -128
WIRE 1744 16 1744 -128
WIRE 2160 64 2160 0
WIRE 1248 96 1248 16
WIRE 2160 192 2160 144
WIRE 1744 240 1744 80
WIRE 2576 240 2464 240
WIRE 2832 240 2832 64
WIRE 2832 240 2656 240
WIRE 3120 240 2832 240
WIRE 3600 256 3184 256
WIRE 240 272 240 -128
WIRE 1376 272 1376 80
WIRE 1488 272 1488 80
WIRE 1584 272 1584 80
WIRE 2832 272 2832 240
WIRE 3120 272 3008 272
WIRE 1248 288 1248 176
WIRE 1248 288 1200 288
WIRE 2832 352 2832 336
WIRE 1248 368 1248 288
WIRE 3008 400 3008 272
WIRE 3008 400 2832 400
WIRE 3328 400 3008 400
WIRE 3600 400 3600 256
WIRE 3600 400 3408 400
WIRE 3008 432 3008 400
WIRE 3600 432 3600 400
WIRE 1376 512 1376 272
WIRE 1488 512 1488 272
WIRE 1584 512 1584 272
WIRE 1744 512 1744 240
WIRE 3008 544 3008 496
WIRE 3600 544 3600 496
WIRE 1248 560 1248 448
WIRE 2512 560 1792 560
WIRE 2832 560 2832 400
WIRE 1792 688 1792 560
WIRE 1808 688 1792 688
WIRE 240 704 240 352
WIRE 240 704 -48 704
WIRE 1936 704 1904 704
WIRE 2192 704 1936 704
WIRE 2512 704 2512 560
WIRE 2512 704 2304 704
WIRE 2784 704 2512 704
WIRE 2832 704 2832 640
WIRE 2832 704 2784 704
WIRE 240 720 240 704
WIRE 352 720 240 720
WIRE 400 720 352 720
WIRE 624 720 432 720
WIRE 864 720 704 720
WIRE 1088 720 944 720
WIRE 1248 720 1248 640
WIRE 1248 720 1168 720
WIRE 1376 720 1376 576
WIRE 1376 720 1248 720
WIRE 1488 720 1488 576
WIRE 1488 720 1376 720
WIRE 1584 720 1584 576
WIRE 1584 720 1488 720
WIRE 1744 720 1744 576
WIRE 1744 720 1584 720
WIRE 1808 720 1744 720
WIRE 1840 720 1808 720
WIRE 2304 720 2304 704
WIRE 2304 720 2256 720
WIRE 2192 736 2112 736
WIRE 2512 736 2512 704
WIRE -48 800 -48 704
WIRE 2112 848 2112 736
WIRE 2160 848 2112 848
WIRE 2304 848 2304 720
WIRE 2304 848 2240 848
WIRE 2512 848 2512 800
WIRE 240 864 240 720
WIRE 400 864 240 864
WIRE 640 864 464 864
WIRE 880 864 704 864
WIRE 1088 864 944 864
WIRE 1248 864 1248 720
WIRE 1248 864 1152 864
WIRE 2112 912 2112 848
WIRE -48 976 -48 880
WIRE 2112 1040 2112 992
WIRE 2768 1088 2768 1040
FLAG -80 -176 0
FLAG -80 -256 2.5V
FLAG 96 -176 0
FLAG 96 -256 -2.5V
FLAG 1200 288 0
FLAG 1584 272 0
FLAG 1744 240 0
FLAG 1904 -176 5V
FLAG 1904 -112 -5V
FLAG -48 976 0
FLAG 1488 272 0
FLAG -80 16 0
FLAG -80 -64 9V
FLAG 96 16 0
FLAG 96 -64 -9V
FLAG 2464 240 0
FLAG -80 192 0
FLAG -80 112 5V
FLAG 96 192 0
FLAG 1872 672 5V
FLAG 1872 736 -5V
FLAG 3152 288 5V
FLAG 3152 224 -5V
FLAG 96 112 -5V
FLAG 2688 -144 diff+
FLAG 2784 704 diff-
FLAG 2768 1168 0
FLAG 2768 960 0
FLAG 2832 352 0
FLAG 3008 544 0
FLAG 3600 544 0
FLAG 1376 272 0
FLAG 2512 848 0
FLAG 2496 0 0
FLAG 2272 -96 5V
FLAG 2272 -160 -5V
FLAG 2160 192 0
FLAG 2224 752 5V
FLAG 2224 688 -5V
FLAG 2112 1040 0
SYMBOL voltage -80 -272 R0
SYMATTR InstName V1
SYMATTR Value 2.75
SYMBOL voltage 96 -272 R0
SYMATTR InstName V2
SYMATTR Value -2.75
SYMBOL voltage 240 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 200 50Meg)
SYMBOL res 496 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 1232 656 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL cap 464 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10p
SYMBOL cap 704 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL cap 944 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 10p
SYMBOL cap 1088 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 10p
SYMBOL cap 464 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 10p
SYMBOL cap 704 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 10p
SYMBOL cap 944 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 10p
SYMBOL cap 1152 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 10p
SYMBOL cap 1568 16 R0
SYMATTR InstName C13
SYMATTR Value 120p
SYMBOL cap 1600 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C14
SYMATTR Value 120p
SYMBOL cap 1728 16 R0
SYMATTR InstName C15
SYMATTR Value 47p
SYMBOL cap 1760 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C16
SYMATTR Value 47p
SYMBOL res 1232 32 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 2816 656 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value {10 * gain * (100 + tolerance) / 100}
SYMBOL res 2560 224 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value {2000 * (100 - tolerance)/100}
SYMBOL voltage -48 784 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(400 100 10Meg)
SYMBOL cap 1472 16 R0
SYMATTR InstName C7
SYMATTR Value 470p
SYMBOL cap 1504 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C8
SYMATTR Value 470p
SYMBOL voltage -80 -80 R0
SYMATTR InstName V4
SYMATTR Value 9
SYMBOL voltage 96 -80 R0
SYMATTR InstName V6
SYMATTR Value -9
SYMBOL voltage -80 96 R0
SYMATTR InstName V7
SYMATTR Value {five}
SYMBOL voltage 96 208 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {five}
SYMBOL ZZZ\\OpAmp\\AD8009an 3152 256 M180
SYMATTR InstName U4
SYMBOL bv 2768 1072 R0
SYMATTR InstName B1
SYMATTR Value V=20*(V(diff+) - V(diff-))
SYMBOL res 2752 944 R0
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL cap 2816 272 R0
SYMATTR InstName C18
SYMATTR Value {par_cap}
SYMBOL res 1232 80 R0
SYMATTR InstName R11
SYMATTR Value 25
SYMBOL res 1232 352 R0
SYMATTR InstName R12
SYMATTR Value 25
SYMBOL cap 1360 16 R0
SYMATTR InstName C2
SYMATTR Value 360p
SYMBOL cap 1392 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C21
SYMATTR Value 360p
SYMBOL res 3312 384 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value {2000 * (100 - tolerance)/100}
SYMBOL res 2816 80 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value {10 * gain * (100 + tolerance) / 100}
SYMBOL cap 3584 432 R0
SYMATTR InstName C17
SYMATTR Value {par_cap}
SYMBOL cap 2992 432 R0
SYMATTR InstName C1
SYMATTR Value {par_cap}
SYMBOL cap 2496 736 R0
SYMATTR InstName C19
SYMATTR Value {par_cap}
SYMBOL cap 2480 -112 R0
SYMATTR InstName C20
SYMATTR Value {par_cap}
SYMBOL res 720 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 960 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 1184 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 448 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 720 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 960 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 1184 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL AutoGenerated\\TLV354 1904 -144 R0
SYMATTR InstName U1
SYMBOL AutoGenerated\\TLV354 1872 704 R0
SYMATTR InstName U2
SYMBOL ZZZ\\OpAmp\\AD8009an 2272 -128 M180
SYMATTR InstName U3
SYMBOL res 2176 160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 2304 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL ZZZ\\OpAmp\\AD8009an 2224 720 M180
SYMATTR InstName U5
SYMBOL res 2128 1008 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 2256 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 2k
TEXT -240 312 Left 2 !.tran 0 10m 0 1n
TEXT 1040 -40 Left 2 ;1 / 400
TEXT -24 264 Left 2 !.param five=5
TEXT 1320 -296 Left 2 ;82.5 dB CMRR at 100 kHz
TEXT 3440 744 Left 2 !.param tolerance=-1
TEXT 3448 784 Left 2 !.param par_cap=10p
TEXT 2736 800 Left 2 !.param res_tol=-0.1
TEXT 3304 688 Left 2 !.param gain=100
