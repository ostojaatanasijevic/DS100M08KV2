Version 4
SHEET 1 3776 1588
WIRE 2096 -272 1856 -272
WIRE 400 -256 240 -256
WIRE 640 -256 464 -256
WIRE 880 -256 704 -256
WIRE 1024 -256 944 -256
WIRE 1248 -256 1088 -256
WIRE 1856 -160 1856 -272
WIRE 1920 -160 1856 -160
WIRE 2096 -144 2096 -272
WIRE 2096 -144 1984 -144
WIRE 2288 -144 2096 -144
WIRE 2688 -144 2288 -144
WIRE 240 -128 240 -256
WIRE 400 -128 240 -128
WIRE 560 -128 480 -128
WIRE 624 -128 560 -128
WIRE 864 -128 704 -128
WIRE 1088 -128 944 -128
WIRE 1248 -128 1248 -256
WIRE 1248 -128 1168 -128
WIRE 1424 -128 1248 -128
WIRE 1536 -128 1424 -128
WIRE 1632 -128 1536 -128
WIRE 1792 -128 1632 -128
WIRE 1920 -128 1792 -128
WIRE 560 -112 560 -128
WIRE 2096 -112 2096 -144
WIRE 1248 -64 1248 -128
WIRE 240 -48 240 -128
WIRE 2688 -16 2688 -144
WIRE 2096 0 2096 -48
WIRE 1424 16 1424 -128
WIRE 1536 16 1536 -128
WIRE 1632 16 1632 -128
WIRE 1792 16 1792 -128
WIRE 1248 96 1248 16
WIRE 2240 128 2112 128
WIRE 2256 128 2240 128
WIRE 240 144 240 32
WIRE 624 144 240 144
WIRE 2112 160 2112 128
WIRE 624 240 624 144
WIRE 1792 240 1792 80
WIRE 2432 240 2320 240
WIRE 2688 240 2688 64
WIRE 2688 240 2512 240
WIRE 2976 240 2688 240
WIRE 2240 256 2240 128
WIRE 3456 256 3040 256
WIRE 240 272 240 144
WIRE 1424 272 1424 80
WIRE 1536 272 1536 80
WIRE 1632 272 1632 80
WIRE 2688 272 2688 240
WIRE 2976 272 2864 272
WIRE 1248 288 1248 176
WIRE 1248 288 1200 288
WIRE 2112 304 2112 240
WIRE 2176 304 2112 304
WIRE 2688 352 2688 336
WIRE 1248 368 1248 288
WIRE 2864 400 2864 272
WIRE 2864 400 2688 400
WIRE 3184 400 2864 400
WIRE 3456 400 3456 256
WIRE 3456 400 3264 400
WIRE 624 416 624 320
WIRE 2112 416 2112 304
WIRE 2864 432 2864 400
WIRE 3456 432 3456 400
WIRE 1424 512 1424 272
WIRE 1536 512 1536 272
WIRE 1632 512 1632 272
WIRE 1792 512 1792 240
WIRE 2864 544 2864 496
WIRE 3456 544 3456 496
WIRE 1248 560 1248 448
WIRE 2368 560 1872 560
WIRE 2688 560 2688 400
WIRE 2112 592 2112 496
WIRE 1872 688 1872 560
WIRE 1888 688 1872 688
WIRE 2112 704 2112 656
WIRE 2112 704 1952 704
WIRE 2128 704 2112 704
WIRE 2240 704 2240 352
WIRE 2240 704 2208 704
WIRE 2368 704 2368 560
WIRE 2368 704 2240 704
WIRE 2640 704 2368 704
WIRE 2688 704 2688 640
WIRE 2688 704 2640 704
WIRE 240 720 240 352
WIRE 352 720 240 720
WIRE 400 720 352 720
WIRE 624 720 432 720
WIRE 864 720 704 720
WIRE 1088 720 944 720
WIRE 1248 720 1248 640
WIRE 1248 720 1168 720
WIRE 1424 720 1424 576
WIRE 1424 720 1248 720
WIRE 1536 720 1536 576
WIRE 1536 720 1424 720
WIRE 1632 720 1632 576
WIRE 1632 720 1536 720
WIRE 1792 720 1792 576
WIRE 1792 720 1632 720
WIRE 1888 720 1792 720
WIRE 2368 736 2368 704
WIRE 2112 752 2112 704
WIRE 240 864 240 720
WIRE 400 864 240 864
WIRE 640 864 464 864
WIRE 880 864 704 864
WIRE 1088 864 944 864
WIRE 1248 864 1248 720
WIRE 1248 864 1152 864
WIRE 2112 864 2112 816
WIRE 2368 880 2368 800
WIRE 2240 944 2240 704
WIRE 2112 992 2112 944
WIRE 2176 992 2112 992
WIRE 2112 1024 2112 992
WIRE 2112 1120 2112 1104
WIRE 2240 1120 2240 1040
WIRE 2240 1120 2112 1120
WIRE 2240 1136 2240 1120
WIRE 2112 1184 2112 1120
WIRE 2688 1184 2688 1136
FLAG -80 -176 0
FLAG -80 -256 2.5V
FLAG 96 -176 0
FLAG 96 -256 -2.5V
FLAG 1200 288 0
FLAG 1632 272 0
FLAG 1792 240 0
FLAG 1952 -176 5V
FLAG 1952 -112 -5V
FLAG 624 416 0
FLAG 1536 272 0
FLAG -80 16 0
FLAG -80 -64 9V
FLAG 96 16 0
FLAG 96 -64 -9V
FLAG 2320 240 0
FLAG -80 192 0
FLAG -80 112 5V
FLAG 96 192 0
FLAG 1920 672 5V
FLAG 1920 736 -5V
FLAG 3008 288 5V
FLAG 3008 224 -5V
FLAG 96 112 -5V
FLAG 2288 -144 diff+
FLAG 2640 704 diff-
FLAG 2688 1264 0
FLAG 2688 1056 0
FLAG 2688 352 0
FLAG 2864 544 0
FLAG 3456 544 0
FLAG 1424 272 0
FLAG 2368 880 0
FLAG 2096 0 0
FLAG 2240 128 5V
FLAG 2240 1136 -5V
SYMBOL voltage -80 -272 R0
SYMATTR InstName V1
SYMATTR Value 2.75
SYMBOL voltage 96 -272 R0
SYMATTR InstName V2
SYMATTR Value -2.75
SYMBOL voltage 240 256 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 100
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL res 496 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 1232 656 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL cap 464 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10p
SYMBOL cap 704 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL cap 944 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 10p
SYMBOL cap 1088 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 10p
SYMBOL cap 464 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 10p
SYMBOL cap 704 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 10p
SYMBOL cap 944 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 10p
SYMBOL cap 1152 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 10p
SYMBOL cap 1776 16 R0
SYMATTR InstName C15
SYMATTR Value 55.5p
SYMBOL cap 1808 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C16
SYMATTR Value 55.5p
SYMBOL res 1232 32 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 2672 656 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value {Rf / 200 * gain * (100 + tolerance) / 100}
SYMBOL res 2416 224 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value {Rf * (100 - tolerance)/100}
SYMBOL voltage 624 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 10
SYMBOL cap 1520 16 R0
SYMATTR InstName C7
SYMATTR Value 470p
SYMBOL cap 1552 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C8
SYMATTR Value 470p
SYMBOL voltage -80 -80 R0
SYMATTR InstName V4
SYMATTR Value 9
SYMBOL voltage 96 -80 R0
SYMATTR InstName V6
SYMATTR Value -9
SYMBOL voltage -80 96 R0
SYMATTR InstName V7
SYMATTR Value {five}
SYMBOL voltage 96 208 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {five}
SYMBOL ZZZ\\OpAmp\\AD8009an 3008 256 M180
SYMATTR InstName U4
SYMBOL bv 2688 1168 R0
SYMATTR InstName B1
SYMATTR Value V=20*(V(diff+) - V(diff-))
SYMBOL res 2672 1040 R0
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL cap 2672 272 R0
SYMATTR InstName C18
SYMATTR Value {par_cap}
SYMBOL res 1232 80 R0
SYMATTR InstName R11
SYMATTR Value 25
SYMBOL res 1232 352 R0
SYMATTR InstName R12
SYMATTR Value 25
SYMBOL cap 1408 16 R0
SYMATTR InstName C2
SYMATTR Value 470p
SYMBOL cap 1440 576 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C21
SYMATTR Value 470p
SYMBOL res 3168 384 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value {Rf * (100 - tolerance)/100}
SYMBOL res 2672 80 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value {Rf / 200 * gain * (100 + tolerance) / 100}
SYMBOL cap 3440 432 R0
SYMATTR InstName C17
SYMATTR Value {par_cap}
SYMBOL cap 2848 432 R0
SYMATTR InstName C1
SYMATTR Value {par_cap}
SYMBOL cap 2352 736 R0
SYMATTR InstName C19
SYMATTR Value {par_cap}
SYMBOL cap 2080 -112 R0
SYMATTR InstName C20
SYMATTR Value {par_cap}
SYMBOL res 720 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 960 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 1184 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 448 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 720 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 960 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL res 1184 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value {1Meg * (100 +res_tol)/100}
SYMBOL voltage 240 -64 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 100
SYMATTR InstName V9
SYMATTR Value ""
SYMBOL OpAmps\\AD8039 1920 640 R0
SYMATTR InstName U2
SYMBOL OpAmps\\AD8039 1952 -208 R0
SYMATTR InstName U3
SYMBOL npn 2176 256 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL pnp 2176 1040 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL diode 2096 592 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 2096 752 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 2096 1120 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 2k
SYMBOL res 2096 256 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL res 2096 400 R0
SYMATTR InstName R8
SYMATTR Value 30
SYMBOL res 2096 848 R0
SYMATTR InstName R9
SYMATTR Value 30
SYMBOL res 2224 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1k
TEXT -240 312 Left 2 !;tran 0 10m 0 1n
TEXT 1040 -40 Left 2 ;1 / 400
TEXT -24 264 Left 2 !.param five=5
TEXT 1368 -296 Left 2 ;82.5 dB CMRR at 100 kHz
TEXT 3296 744 Left 2 !.param tolerance=-1
TEXT 3304 784 Left 2 !.param par_cap=10p
TEXT 2592 800 Left 2 !.param res_tol=-0.1
TEXT 3160 688 Left 2 !.param gain=100
TEXT 712 192 Left 2 !.ac dec 100 100 150Meg
TEXT 3096 112 Left 2 !.param Rf = 1000
