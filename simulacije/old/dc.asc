Version 4
SHEET 1 11460 3748
WIRE -1680 752 -1712 752
WIRE -1648 752 -1680 752
WIRE -1536 752 -1600 752
WIRE -1712 800 -1712 752
WIRE -1600 800 -1600 752
WIRE -1712 944 -1712 880
WIRE -1600 944 -1600 880
WIRE 352 960 352 928
WIRE -1680 1024 -1712 1024
WIRE -1648 1024 -1680 1024
WIRE 352 1024 352 960
WIRE -1712 1072 -1712 1024
WIRE 1056 1088 880 1088
WIRE 1456 1088 1120 1088
WIRE 352 1152 352 1104
WIRE -1712 1216 -1712 1152
WIRE 880 1248 880 1088
WIRE 960 1248 880 1248
WIRE 1024 1248 960 1248
WIRE 1216 1248 1136 1248
WIRE 1296 1248 1216 1248
WIRE 1456 1248 1456 1088
WIRE 1456 1248 1360 1248
WIRE 1568 1248 1456 1248
WIRE 1712 1248 1632 1248
WIRE 1792 1248 1712 1248
WIRE 1712 1296 1712 1248
WIRE 1792 1296 1792 1248
WIRE 880 1344 880 1248
WIRE 1712 1408 1712 1360
WIRE 1792 1408 1792 1376
WIRE 960 1440 960 1248
WIRE 1024 1440 960 1440
WIRE 1216 1440 1216 1248
WIRE 1216 1440 1136 1440
WIRE 880 1472 880 1424
FLAG -1600 944 0
FLAG -1680 752 input
FLAG -1536 752 source
FLAG -1712 944 0
FLAG -1680 1024 init
FLAG -1712 1216 0
FLAG 880 1472 0
FLAG 1024 1312 0
FLAG 1024 1216 5V
FLAG 1024 1280 5V
FLAG 1712 1408 0
FLAG 352 1152 0
FLAG 352 960 5V
FLAG 1792 1408 0
FLAG 1024 1504 0
FLAG 1024 1408 5V
FLAG 1024 1472 5V
SYMBOL voltage -1600 784 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 72 52 Right 2
WINDOW 3 69 103 Right 2
SYMATTR InstName V7
SYMATTR Value 310
SYMBOL voltage -1712 784 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(0 5 10u 10n 10n 1m 10m)
SYMBOL voltage -1712 1056 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 12 10u 10n 10n 30u 10m 1)
SYMBOL voltage 880 1328 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 {1 / fsw / 2} 10n 10n {d / fsw} {1 / fsw})
SYMBOL schottky 1056 1104 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value RB160MM-60
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1568 1264 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value RB160MM-60
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1360 1232 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap 1696 1296 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL voltage 352 1008 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL SN74LVC1G08 1072 1248 R0
SYMATTR InstName U1
SYMBOL res 1776 1280 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL SN74LVC1G08 1072 1440 R0
SYMATTR InstName U2
TEXT -1312 1032 Left 2 !.tran 0 100m 0.21m
TEXT -1312 1112 Left 2 !.param R_led = 100
TEXT -1312 1152 Left 2 !.param R_opto = 1k
TEXT -1312 1072 Left 2 !.param R_load = 2
TEXT -1312 1192 Left 2 !.param R_GK = 330
TEXT -1312 1232 Left 2 !.param R_GK_PT = 10k
TEXT -1312 1272 Left 2 !.param R_gate = 1k
TEXT 592 952 Left 2 !.param Lleak = 1.95u
TEXT 592 984 Left 2 !.param k = sqrt((Lm - Lleak) / Lm)
TEXT 592 1016 Left 2 !.param fsw = 200k
TEXT 592 1048 Left 2 !.param d = 0.85
TEXT 592 920 Left 2 !.param Lm = 563u
