Version 4
SHEET 1 11460 3748
WIRE 2608 16 1232 16
WIRE 2608 144 2608 16
WIRE 1232 336 1232 16
WIRE 1440 336 1232 336
WIRE 1904 336 1616 336
WIRE 2192 336 1968 336
WIRE 2272 336 2192 336
WIRE 2608 336 2608 224
WIRE 2608 336 2400 336
WIRE 1440 368 1440 336
WIRE 2400 368 2400 336
WIRE 1776 384 1488 384
WIRE 2192 384 2192 336
WIRE 2272 384 2272 336
WIRE 2352 384 2272 384
WIRE 2192 512 2192 448
WIRE 1440 576 1440 464
WIRE 1904 576 1440 576
WIRE 2400 576 2400 464
WIRE 2400 576 1968 576
WIRE 1232 592 1232 336
WIRE 2608 592 2608 336
WIRE 1440 656 1440 576
WIRE 2400 656 2400 576
WIRE 1616 736 1616 336
WIRE 1616 736 1488 736
WIRE 1776 736 1776 384
WIRE 1904 736 1776 736
WIRE 2272 736 1968 736
WIRE 2352 736 2272 736
WIRE 1616 784 1616 736
WIRE 1776 784 1776 736
WIRE 2272 848 2272 736
WIRE 1616 928 1616 864
WIRE 1776 928 1776 864
WIRE 1232 1088 1232 672
WIRE 1440 1088 1440 752
WIRE 1440 1088 1232 1088
WIRE 1616 1088 1616 1008
WIRE 1616 1088 1440 1088
WIRE 1776 1088 1776 1008
WIRE 1776 1088 1616 1088
WIRE 2272 1088 2272 912
WIRE 2272 1088 1776 1088
WIRE 2400 1088 2400 752
WIRE 2400 1088 2272 1088
WIRE 2608 1088 2608 656
WIRE 2608 1088 2400 1088
FLAG 2272 1088 0
FLAG 1616 1088 0
FLAG 2192 512 0
FLAG 1776 1088 0
SYMBOL cap 1968 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Cf}
SYMBOL cap 2624 656 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value {Cf}
SYMBOL cap 1904 720 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL schottky 2288 848 M0
SYMATTR InstName D1
SYMATTR Value RB480K
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 1232 576 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {Vbat}
SYMBOL res 2592 128 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL voltage 1616 912 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -469 194 Left 2
SYMATTR Value PULSE(0 4 {1 / fsw / 2} 10n 10n {d / fsw} {1 / fsw})
SYMATTR InstName V3
SYMBOL cap 1904 320 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 100n
SYMBOL schottky 2208 384 M0
SYMATTR InstName D2
SYMATTR Value RB480K
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 1776 912 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -469 194 Left 2
SYMATTR Value PULSE(0 4 {1 / fsw / 2 - deadtime} 10n 10n {d / fsw + 2 * deadtime} {1 / fsw})
SYMATTR InstName V1
SYMBOL res 1600 768 R0
SYMATTR InstName R1
SYMATTR Value 22
SYMBOL res 1760 768 R0
SYMATTR InstName R3
SYMATTR Value 22
SYMBOL pmos 1488 464 R180
SYMATTR InstName M1
SYMATTR Value AO6407
SYMBOL nmos 1488 656 M0
SYMATTR InstName M2
SYMATTR Value AO4630_N
SYMBOL pmos 2352 656 R0
SYMATTR InstName M3
SYMATTR Value AO6407
SYMBOL nmos 2352 464 M180
SYMATTR InstName M4
SYMATTR Value AO4630_N
TEXT -1000 880 Left 2 !.param fsw = 40k
TEXT -1000 912 Left 2 !.param d = 0.5
TEXT -1000 848 Left 2 !.param Cf = 10u
TEXT -1000 944 Left 2 !.tran 10m
TEXT -1536 112 Left 2 !.lib AO3400.mod
TEXT -1184 528 Left 2 !.param Vbat 4.2
TEXT 440 872 Left 2 !.param deadtime = 100n
