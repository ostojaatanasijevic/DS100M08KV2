* Z:\home\ostoja\Elektronika\DS100M08KV2\simulacije\charge_pump\tl431.asc
Q5 N013 N018 0 0 2N3904
R9 N018 N013 51k
R10 0 N018 10k
V1 N003 0 {Vbat}
R11 N004 N003 1k
I1 N004 N013 500µ
Q6 N012 N017 0 0 2N3904
R12 N017 N012 510k
R13 0 N017 100k
V2 N001 0 {Vbat}
R14 N002 N001 1k
Q7 N012 N009 N006 0 2N3906
Q8 N009 N006 N002 0 2N3906
R15 N006 N002 1k
R16 0 N009 100k
R17 N012 N002 100k
V3 N007 0 {Vbat}
R1 N008 N007 1k
XU1 N015 N011 N008 AO3401A
XU2 N011 N011 N008 AO3401A
R3 N015 0 100
I2 N011 0 1m
Q2 N005 N010 vout+ 0 2N3904
C1 N010 0 1µ
R18 N005 N010 1k
V5 N005 N014 {Vbat}
Q3 N010 N016 0 0 2N3904
R7 N016 N010 81k
R8 0 N016 22k
R19 N014 0 1m
Q1 N019 N021 N020 0 2N3904
R2 N020 0 100
C2 N021 0 1µ
R4 N019 N021 1k
V4 N019 N022 {Vbat}
Q4 N021 N023 0 0 2N3904
R5 N023 N021 40k
R20 0 N023 10k
R21 N022 0 1m
Q9 N024 N026 N025 0 2N3904
R22 N025 0 30
C3 N026 0 1µ
R23 N024 N026 1k
V6 N024 N027 {Vbat}
Q10 N026 N028 0 0 2N3904
R24 N028 N026 40k
R25 0 N028 10k
R26 N027 0 1m
I3 vout+ 0 6m
Q11 N029 N031 N030 0 2N3904
R6 N030 0 30
C4 N031 0 1µ
R27 N029 N031 330
V7 N029 N032 {Vbat}
R28 N033 N030 1k
R29 0 N033 10k
R30 N032 0 1m
XU3 N033 0 N031 TL431
R31 N041 0 1k
R32 N043 N041 10k
XU4 N041 N043 N036 TL431
R33 N038 N048 1m
Q12 N046 N036 N035 0 2N5401
Q13 N048 N046 N043 0 2N5401
R34 N046 N048 680
R35 N034 N036 33
R36 0 N035 1
D3 0 N034 1N4148
R37 N043 0 30
R38 N040 0 1k
R39 N042 N040 10k
XU5 N040 N044 N039 TL431
R40 N037 N047 1m
Q15 N047 N045 N042 0 2N5401
R41 N045 N047 680
R42 0 N039 1k
R44 N042 0 30
Q14 N047 N045 N044 0 2N5401
C5 0 N045 47µ
V10 0 N037 PULSE({Vbat - ripple } {Vbat + ripple } 0 0 0 20u 40u)
C6 0 N046 47µ
V8 0 N038 PULSE({Vbat - ripple } {Vbat + ripple } 0 0 0 20u 40u)
.model D D
.lib C:\users\ostoja\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\users\ostoja\Documents\LTspiceXVII\lib\cmp\standard.bjt
.param fsw = 40k
.param d = 0.5
.param Cf = 10u
.tran 10m
.lib AO3400.mod
.step param Vbat list 3.5 3.9 4.2
.param ripple = 100m
.lib AO3401A.mod
.lib TL431.mod
.backanno
.end
